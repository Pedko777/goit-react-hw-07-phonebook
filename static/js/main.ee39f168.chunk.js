(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{30:function(t,e,n){t.exports={contactList:"contactList_contactList__3OGdo"}},31:function(t,e,n){},32:function(t,e,n){t.exports=n(61)},37:function(t,e,n){},61:function(t,e,n){"use strict";n.r(e);var a=n(0),c=n.n(a),o=n(15),r=n.n(o),u=(n(37),n(9)),l=n(10),i=n(12),s=n(11),m=n(5),d=n(1),b={changeTheme:Object(d.b)("theme/changeTheme")},h=Object(d.b)("contacts/ADD_REQUEST"),f=Object(d.b)("contacts/ADD_SUCCESS"),C=Object(d.b)("contacts/ADD_ERROR"),E=Object(d.b)("contacts/FETCH_REQUEST"),g=Object(d.b)("contacts/FETCH_SUCCESS"),p=Object(d.b)("contacts/FETCH_ERROR"),O=Object(d.b)("contacts/DELETE_REQUEST"),j=Object(d.b)("contacts/DELETE_SUCCESS"),_=Object(d.b)("contacts/DELETE_ERROR"),S=Object(d.b)("contacts/changeFilter"),v={addContactRequest:h,addContactSuccess:f,addContactError:C,fetchContactsRequest:E,fetchContactsSuccess:g,fetchContactsError:p,deleteContactRequest:O,deleteContactSuccess:j,deleteContactError:_,changeContactRequest:Object(d.b)("contacts/CHANGE_CONTACT_REQUEST"),changeContactSuccess:Object(d.b)("contacts/CHANGE_CONTACT_SUCCESS"),changeContactError:Object(d.b)("contacts/CHANGE_CONTACT_ERROR"),changeFilter:S,addIdEditContact:Object(d.b)("contacts/addIdEditContact"),deleteIdEditContact:Object(d.b)("contacts/deleteIdEditContact")},R=n(13),y=n.n(R);y.a.defaults.baseURL="http://localhost:2020";var F,I,N,T=function(t,e){return function(n){n(v.addContactRequest()),y.a.post("/contacts",{number:e,name:t}).then((function(t){var e=t.data;n(v.addContactSuccess(e))})).catch((function(t){return n(v.addContactError(t))}))}},L=function(t){return function(e){e(v.deleteContactRequest()),y.a.delete("/contacts/".concat(t)).then((function(){return e(v.deleteContactSuccess(t))})).catch((function(t){return e(v.deleteContactError(t))}))}},k=function(){return function(t){t(v.fetchContactsRequest()),y.a.get("/contacts").then((function(e){var n=e.data;return t(v.fetchContactsSuccess(n))})).catch((function(e){return t(v.fetchContactsError(e))}))}},D=function(t,e,n){return function(a){a(v.changeContactRequest()),y.a.patch("/contacts/".concat(t),{number:n,name:e}).then((function(t){var e=t.data;a(v.changeContactSuccess({contact:{id:e.id,name:e.name,number:e.number}}))})).catch((function(t){return a(v.changeContactError(t))}))}},w=n(6),A=function(t){return t.contactsRoot.filter},q=function(t){return t.contactsRoot.contacts},B={getFilter:A,getLoading:function(t){return t.contactsRoot.loading},getContacts:q,getFilteredContacts:Object(w.a)([q,A],(function(t,e){return t.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}))}))},U=function(t){return t.themeColor},x={light:{headerBg:"#F7B30C",fontColor:"black",bodybg:"white"},dark:{headerBg:"#3c3c3c",fontColor:"white",bodybg:"black"}},P=n(2),H=n(8),G=n.n(H),Q=function(t){Object(i.a)(n,t);var e=Object(s.a)(n);function n(){var t;Object(u.a)(this,n);for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];return(t=e.call.apply(e,[this].concat(c))).state={name:"",number:""},t.handleChange=function(e){var n=e.target,a=n.name,c=n.value;t.setState(Object(P.a)({},a,c))},t.handleSubmit=function(e){e.preventDefault();var n=t.state,a=n.name,c=n.number,o=t.props.onSubmit;""!==a&&""!==c&&o(a,c),t.setState({name:"",number:""})},t}return Object(l.a)(n,[{key:"render",value:function(){var t=this.state,e=t.name,n=t.number;return c.a.createElement("form",{className:G.a.editForm,onSubmit:this.handleSubmit},c.a.createElement("label",{className:G.a.label},"Name*",c.a.createElement("input",{className:G.a.input,type:"text",name:"name",value:e,placeholder:"name",onChange:this.handleChange})),c.a.createElement("label",{className:G.a.label},"Phone number*",c.a.createElement("input",{className:G.a.input,type:"tel",name:"number",value:n,onChange:this.handleChange,placeholder:"number"})),c.a.createElement("button",{className:G.a.button,type:"submit"},"Add contact"))}}]),n}(a.Component),J=Object(m.b)(null,(function(t){return{onSubmit:function(e,n){return t(T(e,n))}}}))(Q),V=n(30),Z=n.n(V),z=n(7),M=n.n(z),W=function(t){Object(i.a)(n,t);var e=Object(s.a)(n);function n(){var t;Object(u.a)(this,n);for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];return(t=e.call.apply(e,[this].concat(c))).state={name:"",number:""},t.handleChange=function(e){var n=e.target,a=n.name,c=n.value;t.setState(Object(P.a)({},a,c))},t.handleSubmit=function(e){e.preventDefault();var n=t.props,a=n.deleteIdEditContact,c=n.changeContact,o=t.state;c(o.name,o.number),a()},t}return Object(l.a)(n,[{key:"render",value:function(){var t=this.props,e=t.contact,n=t.isShowForm,a=t.addIdEditContact,o=t.deleteContact,r=this.state,u=r.name,l=r.number;return console.log(a),c.a.createElement("li",{className:M.a.listItem},c.a.createElement("p",{className:M.a.listItemP},"name: ",e.name," tel: ",e.number),!n&&c.a.createElement("button",{className:M.a.listItemButton,type:"button",onClick:a},"Start Edit"),c.a.createElement("button",{className:M.a.listItemButton,onClick:o,type:"button"},"Delete"),n&&c.a.createElement("form",{className:M.a.editForm,onSubmit:this.handleSubmit},c.a.createElement("label",{className:M.a.label},"Name*",c.a.createElement("input",{className:M.a.input,type:"text",name:"name",value:u,placeholder:"name",onChange:this.handleChange})),c.a.createElement("label",{className:M.a.label},"Phone number*",c.a.createElement("input",{className:M.a.input,type:"tel",name:"number",value:l,onChange:this.handleChange,placeholder:"number"})),c.a.createElement("button",{className:M.a.button,type:"submit"},"EDIT")))}}]),n}(a.Component),K=Object(m.b)((function(t,e){var n=e.id;return{isShowForm:t.contactsRoot.idEditContact.some((function(t){return t===n}))}}),(function(t,e){var n=e.id;return{deleteContact:function(){return t(L(n))},changeContact:function(e,a){return t(D(n,e,a))},addIdEditContact:function(){return t(v.addIdEditContact(n))},deleteIdEditContact:function(){return t(v.deleteIdEditContact(n))}}}))(W),X=Object(m.b)((function(t){return{contacts:B.getFilteredContacts(t)}}))((function(t){var e=t.contacts;return c.a.createElement("ul",{className:Z.a.contactList},e.map((function(t){return c.a.createElement(K,{key:t.id,contact:t,id:t.id})})))})),Y=Object(m.b)((function(t){return{value:t.contactsRoot.filter}}),(function(t){return{onChangeFilter:function(e){return t(v.changeFilter(e))}}}))((function(t){var e=t.value,n=t.onChangeFilter;return c.a.createElement("form",null,c.a.createElement("label",null,"Find contacts by name",c.a.createElement("br",null),c.a.createElement("input",{type:"text",value:e,onChange:function(t){return n(t.target.value)}})))})),$=n(31),tt=n.n($),et=function(){return c.a.createElement("h1",null,"Phonebook")},nt=function(t){var e=t.contacts,n=t.theme,a=t.changeTheme,o=t.isLoadingContact;console.log({theme:n,changeTheme:a});var r="light";return r=n?"light":"dark",c.a.createElement("div",{style:{color:x[r].fontColor,background:x[r].bodybg}},c.a.createElement("div",null,c.a.createElement(c.a.Fragment,null,c.a.createElement(et,null),o&&c.a.createElement("h2",null,"Loading..."),c.a.createElement("button",{onClick:a},"Change Theme"))),c.a.createElement(J,null),c.a.createElement("h2",{className:tt.a.sectionTitle},"Contacts"),e&&e.length>1&&c.a.createElement(Y,null),c.a.createElement(X,null))},at=function(t){Object(i.a)(n,t);var e=Object(s.a)(n);function n(){return Object(u.a)(this,n),e.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.onFetchContacts()}},{key:"render",value:function(){return c.a.createElement(nt,this.props)}}]),n}(a.Component),ct=Object(m.b)((function(t){return{contacts:B.getContacts(t),theme:U(t),isLoadingContact:B.getLoading(t)}}),(function(t){return{changeTheme:function(){return t(b.changeTheme())},onFetchContacts:function(){return t(k())}}}))(at),ot=n(14),rt=n(19),ut=n(4),lt=Object(d.c)([],(F={},Object(P.a)(F,v.fetchContactsSuccess,(function(t,e){return e.payload})),Object(P.a)(F,v.addContactSuccess,(function(t,e){return[].concat(Object(rt.a)(t),[e.payload])})),Object(P.a)(F,v.deleteContactSuccess,(function(t,e){return t.filter((function(t){return t.id!==e.payload}))})),Object(P.a)(F,v.changeContactSuccess,(function(t,e){return t.map((function(t){return t.id===e.payload.contact.id?e.payload.contact:t}))})),F)),it=Object(d.c)([],(I={},Object(P.a)(I,v.addIdEditContact,(function(t,e){var n=e.payload;return[].concat(Object(rt.a)(t),[n])})),Object(P.a)(I,v.deleteIdEditContact,(function(t,e){var n=e.payload;return t.filter((function(t){return t!==n}))})),I)),st=Object(d.c)("",Object(P.a)({},v.changeFilter,(function(t,e){return e.payload}))),mt=Object(d.c)(!1,(N={},Object(P.a)(N,v.fetchContactsRequest,(function(){return!0})),Object(P.a)(N,v.fetchContactsSuccess,(function(){return!1})),Object(P.a)(N,v.fetchContactsError,(function(){return!1})),Object(P.a)(N,v.addContactRequest,(function(){return!0})),Object(P.a)(N,v.addContactSuccess,(function(){return!1})),Object(P.a)(N,v.addContactsError,(function(){return!1})),Object(P.a)(N,v.deleteContactRequest,(function(){return!0})),Object(P.a)(N,v.deleteContactSuccess,(function(){return!1})),Object(P.a)(N,v.deleteContactError,(function(){return!1})),Object(P.a)(N,v.changeContactRequest,(function(){return!0})),Object(P.a)(N,v.changeContactSuccess,(function(){return!1})),Object(P.a)(N,v.changeContactError,(function(){return!1})),N)),dt=Object(ut.c)({contacts:lt,idEditContact:it,filter:st,loading:mt}),bt=Object(d.c)(!0,Object(P.a)({},b.changeTheme,(function(t){return!t}))),ht=Object(d.a)({reducer:{themeColor:bt,contactsRoot:dt},middleware:[ot.a]});r.a.render(c.a.createElement(m.a,{store:ht},c.a.createElement(ct,null)),document.getElementById("root"))},7:function(t,e,n){t.exports={listItem:"contactListItem_listItem__14smR",listItemP:"contactListItem_listItemP__2jV6x",listItemButton:"contactListItem_listItemButton__fntAa"}},8:function(t,e,n){t.exports={form:"contactForm_form__28Wa3",editForm:"contactForm_editForm__ZrVCs",input:"contactForm_input__3LP4-",editInput:"contactForm_editInput__Udf71",button:"contactForm_button__2t1tl",editButton:"contactForm_editButton__2ZzSE",label:"contactForm_label__1axD9"}}},[[32,1,2]]]);
//# sourceMappingURL=main.ee39f168.chunk.js.map