(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{31:function(t,e,n){t.exports={contactList:"contactList_contactList__3OGdo"}},32:function(t,e,n){},33:function(t,e,n){t.exports=n(65)},38:function(t,e,n){},6:function(t,e,n){t.exports={listItem:"contactListItem_listItem__14smR",listItemP:"contactListItem_listItemP__2jV6x",listItemButton:"contactListItem_listItemButton__fntAa"}},65:function(t,e,n){"use strict";n.r(e);var a=n(0),c=n.n(a),o=n(14),r=n.n(o),u=(n(38),n(8)),l=n(9),i=n(11),s=n(10),d=n(5),m=n(1),b=(n(45),n(7)),h=n.n(b),f=n(2),C=Object(f.b)("contacts/ADD_REQUEST"),E=Object(f.b)("contacts/ADD_SUCCESS"),p=Object(f.b)("contacts/ADD_ERROR"),O=Object(f.b)("contacts/FETCH_REQUEST"),g=Object(f.b)("contacts/FETCH_SUCCESS"),j=Object(f.b)("contacts/FETCH_ERROR"),_=Object(f.b)("contacts/DELETE_REQUEST"),v=Object(f.b)("contacts/DELETE_SUCCESS"),S=Object(f.b)("contacts/DELETE_ERROR"),y=Object(f.b)("contacts/changeFilter"),R={addContactRequest:C,addContactSuccess:E,addContactError:p,fetchContactsRequest:O,fetchContactsSuccess:g,fetchContactsError:j,deleteContactRequest:_,deleteContactSuccess:v,deleteContactError:S,changeContactRequest:Object(f.b)("contacts/CHANGE_CONTACT_REQUEST"),changeContactSuccess:Object(f.b)("contacts/CHANGE_CONTACT_SUCCESS"),changeContactError:Object(f.b)("contacts/CHANGE_CONTACT_ERROR"),changeFilter:y,addIdEditContact:Object(f.b)("contacts/addIdEditContact"),deleteIdEditContact:Object(f.b)("contacts/deleteIdEditContact")},I=n(12),F=n.n(I);F.a.defaults.baseURL="http://localhost:2020";var N,T,k,L={addContact:function(t,e){return function(n){n(R.addContactRequest()),F.a.post("/contacts",{number:e,name:t}).then((function(t){var e=t.data;n(R.addContactSuccess(e))})).catch((function(t){return n(R.addContactError(t))}))}},deleteContact:function(t){return function(e){e(R.deleteContactRequest()),F.a.delete("/contacts/".concat(t)).then((function(){return e(R.deleteContactSuccess(t))})).catch((function(t){return e(R.deleteContactError(t))}))}},fetchContacts:function(){return function(t){t(R.fetchContactsRequest()),F.a.get("/contacts").then((function(e){var n=e.data;return t(R.fetchContactsSuccess(n))})).catch((function(e){return t(R.fetchContactsError(e))}))}},changeContact:function(t,e,n){return function(a){a(R.changeContactRequest()),F.a.patch("/contacts/".concat(t),{number:n,name:e}).then((function(t){var e=t.data;a(R.changeContactSuccess({contact:{id:e.id,name:e.name,number:e.number}}))})).catch((function(t){return a(R.changeContactError(t))}))}}},D=function(t){Object(i.a)(n,t);var e=Object(s.a)(n);function n(){var t;Object(u.a)(this,n);for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];return(t=e.call.apply(e,[this].concat(c))).state={name:"",number:""},t.handleChange=function(e){var n=e.target,a=n.name,c=n.value;t.setState(Object(m.a)({},a,c))},t.handleSubmit=function(e){e.preventDefault();var n=t.state,a=n.name,c=n.number,o=t.props.onSubmit;""!==a&&""!==c&&o(a,c),t.setState({name:"",number:""})},t}return Object(l.a)(n,[{key:"render",value:function(){var t=this.state,e=t.name,n=t.number;return c.a.createElement("form",{className:h.a.editForm,onSubmit:this.handleSubmit},c.a.createElement("label",{className:h.a.label},"Name*",c.a.createElement("input",{className:h.a.input,type:"text",name:"name",value:e,placeholder:"name",onChange:this.handleChange})),c.a.createElement("label",{className:h.a.label},"Phone number*",c.a.createElement("input",{className:h.a.input,type:"tel",name:"number",value:n,onChange:this.handleChange,placeholder:"number"})),c.a.createElement("button",{className:h.a.button,type:"submit"},"Add contact"))}}]),n}(a.Component),w=Object(d.b)(null,(function(t){return{onSubmit:function(e,n){return t(L.addContact(e,n))}}}))(D),A=n(31),q=n.n(A),B=n(6),U=n.n(B),x=function(t){return t.contactsRoot.filter},H=function(t){return t.contactsRoot.contacts},P=function(t){return t.contactsRoot.loading},G=function(t){var e=H(t),n=x(t);return e.filter((function(t){return t.name.toLowerCase().includes(n.toLowerCase())}))},Q=function(t){Object(i.a)(n,t);var e=Object(s.a)(n);function n(){var t;Object(u.a)(this,n);for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];return(t=e.call.apply(e,[this].concat(c))).state={name:"",number:""},t.handleChange=function(e){var n=e.target,a=n.name,c=n.value;t.setState(Object(m.a)({},a,c))},t.handleSubmit=function(e){e.preventDefault();var n=t.props,a=n.deleteIdEditContact,c=n.changeContact,o=t.state;c(o.name,o.number),a()},t}return Object(l.a)(n,[{key:"render",value:function(){var t=this.props,e=t.contact,n=t.isShowForm,a=t.addIdEditContact,o=t.deleteContact,r=this.state,u=r.name,l=r.number;return console.log(a),c.a.createElement("li",{className:U.a.listItem},c.a.createElement("p",{className:U.a.listItemP},"name: ",e.name," tel: ",e.number),!n&&c.a.createElement("button",{className:U.a.listItemButton,type:"button",onClick:a},"Start Edit"),c.a.createElement("button",{className:U.a.listItemButton,onClick:o,type:"button"},"Delete"),n&&c.a.createElement("form",{className:U.a.editForm,onSubmit:this.handleSubmit},c.a.createElement("label",{className:U.a.label},"Name*",c.a.createElement("input",{className:U.a.input,type:"text",name:"name",value:u,placeholder:"name",onChange:this.handleChange})),c.a.createElement("label",{className:U.a.label},"Phone number*",c.a.createElement("input",{className:U.a.input,type:"tel",name:"number",value:l,onChange:this.handleChange,placeholder:"number"})),c.a.createElement("button",{className:U.a.button,type:"submit"},"EDIT")))}}]),n}(a.Component),J=Object(d.b)((function(t,e){var n=e.id;return{isShowForm:t.contactsRoot.idEditContact.some((function(t){return t===n}))}}),(function(t,e){var n=e.id;return{deleteContact:function(){return t(L.deleteContact(n))},changeContact:function(e,a){return t(L.changeContact(n,e,a))},addIdEditContact:function(){return t(R.addIdEditContact(n))},deleteIdEditContact:function(){return t(R.deleteIdEditContact(n))}}}))(Q),M=Object(d.b)((function(t){return{contacts:G(t)}}))((function(t){var e=t.contacts;return c.a.createElement("ul",{className:q.a.contactList},e.map((function(t){return c.a.createElement(J,{key:t.id,contact:t,id:t.id})})))})),V=Object(d.b)((function(t){return{value:t.contactsRoot.filter}}),(function(t){return{onChangeFilter:function(e){return t(R.changeFilter(e))}}}))((function(t){var e=t.value,n=t.onChangeFilter;return c.a.createElement("form",null,c.a.createElement("label",null,"Find contacts by name",c.a.createElement("br",null),c.a.createElement("input",{type:"text",value:e,onChange:function(t){return n(t.target.value)}})))})),Z=n(32),z=n.n(Z),W=function(){return c.a.createElement("h1",null,"Phonebook")},K="theme/CHANGE_THEME",X={changeTheme:function(t){return{type:K,payload:{theme:t}}}},Y={light:{headerBg:"#F7B30C",fontColor:"black",bodybg:"white"},dark:{headerBg:"#3c3c3c",fontColor:"white",bodybg:"black"}},$=function(t){Object(i.a)(n,t);var e=Object(s.a)(n);function n(){return Object(u.a)(this,n),e.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.onFetchContacts()}},{key:"render",value:function(){var t=this.props,e=t.theme,n=t.toggleTheme,a=t.isLoadingContact;return c.a.createElement("div",{style:{color:Y[e].fontColor,background:Y[e].bodybg}},c.a.createElement("div",null,c.a.createElement(c.a.Fragment,null,c.a.createElement(W,null),a&&c.a.createElement("h2",null,"Loading..."),c.a.createElement("button",{onClick:n},"Change Theme"))),c.a.createElement(w,null),c.a.createElement("h2",{className:z.a.sectionTitle},"Contacts"),c.a.createElement(V,null),c.a.createElement(M,null))}}]),n}(a.Component),tt={toggleTheme:X.changeTheme,onFetchContacts:L.fetchContacts},et=Object(d.b)((function(t){return{theme:t.theme,isLoadingContact:P(t)}}),tt)($),nt=n(18),at=n(4),ct=Object(f.c)([],(N={},Object(m.a)(N,R.fetchContactsSuccess,(function(t,e){return e.payload})),Object(m.a)(N,R.addContactSuccess,(function(t,e){return[].concat(Object(nt.a)(t),[e.payload])})),Object(m.a)(N,R.deleteContactSuccess,(function(t,e){return t.filter((function(t){return t.id!==e.payload}))})),Object(m.a)(N,R.changeContactSuccess,(function(t,e){return t.map((function(t){return t.id===e.payload.contact.id?e.payload.contact:t}))})),N)),ot=Object(f.c)([],(T={},Object(m.a)(T,R.addIdEditContact,(function(t,e){var n=e.payload;return[].concat(Object(nt.a)(t),[n])})),Object(m.a)(T,R.deleteIdEditContact,(function(t,e){var n=e.payload;return t.filter((function(t){return t!==n}))})),T)),rt=Object(f.c)("",Object(m.a)({},R.changeFilter,(function(t,e){return e.payload}))),ut=Object(f.c)(!1,(k={},Object(m.a)(k,R.fetchContactsRequest,(function(){return!0})),Object(m.a)(k,R.fetchContactsSuccess,(function(){return!1})),Object(m.a)(k,R.fetchContactsError,(function(){return!1})),Object(m.a)(k,R.addContactRequest,(function(){return!0})),Object(m.a)(k,R.addContactSuccess,(function(){return!1})),Object(m.a)(k,R.addContactsError,(function(){return!1})),Object(m.a)(k,R.deleteContactRequest,(function(){return!0})),Object(m.a)(k,R.deleteContactSuccess,(function(){return!1})),Object(m.a)(k,R.deleteContactError,(function(){return!1})),Object(m.a)(k,R.changeContactRequest,(function(){return!0})),Object(m.a)(k,R.changeContactSuccess,(function(){return!1})),Object(m.a)(k,R.changeContactError,(function(){return!1})),k)),lt=Object(at.c)({contacts:ct,idEditContact:ot,filter:rt,loading:ut}),it=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light",e=arguments.length>1?arguments[1]:void 0;switch(e.type){case K:return t&&"light"===t?"dark":"light";default:return t}},st=n(13),dt=Object(f.a)({reducer:{theme:it,contactsRoot:lt},middleware:[st.a]});r.a.render(c.a.createElement(d.a,{store:dt},c.a.createElement(et,null)),document.getElementById("root"))},7:function(t,e,n){t.exports={form:"contactForm_form__28Wa3",editForm:"contactForm_editForm__ZrVCs",input:"contactForm_input__3LP4-",editInput:"contactForm_editInput__Udf71",button:"contactForm_button__2t1tl",editButton:"contactForm_editButton__2ZzSE",label:"contactForm_label__1axD9"}}},[[33,1,2]]]);
//# sourceMappingURL=main.be010848.chunk.js.map